---
title: Publishing my Pocket reading list on this website
date: 2019-04-25T09:47:49.960Z
---
I've recently added [a page called Reading List to this website](/reading-list). It's a page that shows my unread articles in my [Pocket account](http://getpocket.com/).

This post details how this works using Eleventy Javascript data files, the Pocket API, IFTT webhooks and Netlify build webhooks.

In case you don't know, Pocket is a service that lets you save links to read/watch later. It's really [well-integrated into Firefox](https://support.mozilla.org/en-US/kb/save-web-pages-later-pocket-firefox).

I recently switched this blog from [Jekyll](https://jekyllrb.com) to [Eleventy](https://www.11ty.io). Eleventy is a [static-site generator](https://indieweb.org/static_site_generator).

Eleventy lets you [make any data returned by a Javascript file](https://www.11ty.io/docs/data-js/) available to your website. This means you can pull in data from an external API and feed it to your templates to display on your website as static HTML. So the only time a call to the Pocket API is made is when the site is being built on the server.


For my site, I use a Javascript file called [`readingList.js`](https://github.com/edjw/edjw-blog/blob/master/_data/readingList.js) that 1) pulls in all my items saved in Pocket, 2) reverses the order so they're roughly in descending publication date order, and 3) excludes any items I've tagged in Pocket as 'private'. Then the data from [Pocket's API](https://getpocket.com/developer/docs/v3/retrieve) is available to my templates â€“ written in Nunjucks in my case.

I host this website on [Netlify](https://www.netlify.com). Netlify runs a build of your site when you make a change to the git repository it's linked to. But when I add an article to Pocket, no changes are made to the files in the git repository. The readingList.js file stays the same.

So to automate the updating of the Reading List page, I need to trigger a build remotely using webhooks.

I'm doing this using [IFTT 'Applets'](https://ifttt.com). I've set up four triggers to run whenever any 1) a new item is added to my Pocket account, 2) if an item is archived, or 3) if an item is tagged as 'private'.

IFTT doesn't seem to be able to trigger a webhook if a tag is removed from a Pocket item. So I've also added a trigger that runs once a day at midnight to make sure any items are display which I had previously tagged as 'private' but then removed that tag.

These 'applets' above send a webhook to Netlify to start a build - using a 'Build hook' from the 'Build & Deploy' settings in Netlify. In IFTT, you set a POST request to a URL generated by Netlify that looks like this https://api.netlify.com/build_hooks/6rbs0k5tmi3ipx7s8g82k9fm?trigger_title=Midnight+build

Notice you can include a trigger title which can be unique to each IFTT applet.

When these applets start a new build, the site pulls in the updated Pocket data and passes it through to 

--

Thanks to [Bryan L. Robinson for his blog](https://bryanlrobinson.com/blog/2019/04/02/using-eleventys-javascript-data-files) for explaining how to get Eleventy's Javascript data files working with the Meetup API. I've adapted his work for my purposes.

Thanks also for [Felix Neumann's tool here](https://reader.fxneumann.de/plugins/oneclickpocket/auth.php) that lets you easily generate a Pocket Access Token.
